---
title: "DNS Server"
description: "Complete guide for setting up and configuring Technitium DNS Server"
---

import { Steps, Callout } from "nextra/components";

# DNS Server คืออะไร

DNS Server (Domain Name System Server) เปรียบเสมือน **"สมุดโทรศัพท์"** ของอินเทอร์เน็ต 

หน้าที่หลักคือการ **แปลงชื่อเว็บไซต์** ที่เราคุ้นเคย (เช่น `www.google.com`) ให้กลายเป็น **IP Address** (เช่น `172.217.160.142`) ซึ่งเป็นชุดตัวเลขที่คอมพิวเตอร์ใช้ในการสื่อสารกัน เพื่อให้คอมพิวเตอร์สามารถค้นหาและเชื่อมต่อกับเว็บไซต์ได้ถูกต้อง

## การตั้งค่า Technitium DNS Server

<Steps>

### เข้าสู่หน้าเว็บจัดการ

```
http://<ip_address>:5380
```

### การตั้งค่าทั่วไป (General Settings)

ไปที่เมนู **Settings** > **General**

#### DNS Server Domain
ระบุชื่อโดเมนหลักของ DNS Server ของคุณ (FQDN) เช่น `ns1.example.com`

<Callout type="info">
**FQDN** (Fully Qualified Domain Name) คือชื่อที่ใช้ระบุตำแหน่งของเซิร์ฟเวอร์ของคุณบนอินเทอร์เน็ตได้อย่างเฉพาะเจาะจง

รูปแบบ: `hostname.domain.tld`
- **hostname**: ชื่อที่คุณตั้งให้กับเซิร์ฟเวอร์ DNS (เช่น `ns1`)
- **domain**: ชื่อโดเมนของคุณ (เช่น `example`)
- **tld**: ส่วนต่อท้ายโดเมน (เช่น `.com`, `.net`, `.local`)
</Callout>

![Technitium DNS General Settings](/server/technitium/technitium-dns-1.png)

#### Zone Defaults
เลื่อนลงมาที่หัวข้อ **Zone Defaults** และเลือก ☑️ **Use SOA Serial Date Scheme**

![Zone Defaults Settings](/server/technitium/technitium-dns-2.png)

<Callout type="default">
**SOA Serial Date Scheme** ช่วยให้คุณทราบได้ว่าไฟล์ Zone มีการแก้ไขล่าสุดเมื่อใด โดยดูจากตัวเลข Serial Number
</Callout>

คลิกปุ่ม **Save Settings** ที่ด้านล่างสุดของหน้า

### Forwarders

Forwarders ช่วยให้ DNS Server ของคุณสามารถสอบถามชื่อโดเมนที่ไม่รู้จักจาก DNS Server ภายนอกได้

- ไปที่เมนู **Settings** > **Proxy & Forwarders**

- ในหัวข้อ **Forwarders** เพิ่ม IP Address ของ DNS Server ภายนอก เช่น:

![Forwarders Configuration](/server/technitium/technitium-dns-3.png)

- คลิกปุ่ม **Save Settings** ที่ด้านล่างสุด

</Steps>

## การตั้งค่า Zone (การกำหนดชื่อโดเมน)

![Zone Management Interface](/server/technitium/technitium-dns-4.png)

### Forward Zone

Forward Zone ใช้สำหรับจับคู่ชื่อโดเมนกับ IP Address เช่น การระบุให้ `www.example.com` ชี้ไปที่ `192.168.1.10`

<Steps>

#### สร้าง Forward Zone

1. ไปที่เมนู **Zones**
2. คลิกปุ่ม **Add Zone**
3. กำหนดค่าดังนี้:
   - **Zone**: ใส่ชื่อโดเมนที่ต้องการ เช่น `example.com`
   - **Type**: `Primary Zone`
   - **Zone Serial**: ติ๊ก ☑️ `Use SOA Serial Date Scheme`
4. คลิกปุ่ม **Add**

![Forward Zone Creation](/server/technitium/technitium-dns-5.png)

5. Forward Zone สำหรับ `example.com` ถูกสร้างเสร็จเรียบร้อยแล้ว

![Forward Zone Result](/server/technitium/technitium-dns-6.png)

#### เพิ่ม A Record สำหรับ Nameserver

1. คลิกปุ่ม **Add Record**
2. **Name:** ใส่ชื่อโฮสต์เนมของเครื่องเซิร์ฟเวอร์ เช่น `ns`
3. **Type:** เลือกเป็น `A`
4. **IPv4 Address:** ระบุ IP Address ของเครื่องเซิร์ฟเวอร์ เช่น `10.11.254.150`
5. คลิกปุ่ม `Save`

![Forward Zone A Record](/server/technitium/technitium-dns-9.png)

6. เสร็จสิ้นขั้นตอนการสร้าง A Record สำหรับ nameserver

#### ผลลัพธ์ที่ควรได้

![Result](/server/technitium/technitium-dns-10.png)

</Steps>

### Reverse Zone

Reverse Zone ใช้สำหรับค้นหาชื่อโดเมนจาก IP Address (Reverse DNS Lookup / PTR Record)

<Steps>

#### สร้าง Reverse Zone

1. คลิกปุ่ม **Add Zone** อีกครั้ง
2. กำหนดค่าดังนี้:
   - **Zone**: ใส่ที่อยู่ IP Address ของเครือข่าย เช่น `10.11.254.0/24`
   - **Type**: `Primary Zone`
   - **Zone Serial**: ติ๊ก ☑️ `Use SOA Serial Date Scheme`
3. คลิกปุ่ม **Add**

![Reverse Zone Creation](/server/technitium/technitium-dns-7.png)

4. Reverse Zone สำหรับเครือข่าย `10.11.254.0/24` ถูกสร้างเสร็จแล้ว

![Reverse Zone Result](/server/technitium/technitium-dns-8.png)

#### เพิ่ม PTR Record สำหรับ Nameserver

1. คลิกปุ่ม **Add Record**
2. **Name:** ใส่ IP Address ตัวสุดท้ายของเครื่องเซิร์ฟเวอร์ เช่น `150`
3. **Type:** เลือกเป็น `PTR`
4. **Domain Name:** ระบุ FQDN ของเครื่องเซิร์ฟเวอร์ เช่น `ns1.example.com`
5. คลิกปุ่ม `Save`

![Reverse Zone PTR Record](/server/technitium/technitium-dns-11.png)

#### ผลลัพธ์ที่ควรได้

![Result](/server/technitium/technitium-dns-12.png)

</Steps>

## การตั้งค่าเครื่อง Client

เมื่อตั้งค่า Technitium เสร็จแล้ว เราต้องกำหนดให้เครื่องคอมพิวเตอร์ (Client) ใช้ DNS Server ที่เราสร้างขึ้น

### สำหรับ Windows

<Steps>

#### ตั้งค่า Network Adapter

1. เปิด **Control Panel**
2. ไปที่ **Network and Internet** > **Network and Sharing Center**
3. ที่แถบด้านซ้าย คลิก **Change adapter settings**
4. คลิกขวาที่ Network adapter ที่เชื่อมต่อกับเครือข่ายเดียวกับ DNS Server
5. เลือก **Properties**
6. เลือก **Internet Protocol Version 4 (TCP/IPv4)**
7. คลิกปุ่ม **Properties**
8. กำหนดค่า DNS:
   - **Preferred DNS server**: `IP Address ของ DNS Server หลัก`
   - **Alternate DNS server**: `IP Address ของ DNS Server สำรอง (ถ้ามี)`

#### ทดสอบการทำงาน

- เปิด **Command Prompt** และทดสอบด้วยคำสั่ง:

```cmd
nslookup
```

```cmd
Output:

Default Server: Unknown
Address: 192.168.100.1
```

<Callout type="info">
ไม่ต้องตกใจหาก `Address` ที่ได้ไม่เหมือนกันกับตัวอย่าง สามารถไปขั้นตอนถัดไปได้เลย
</Callout>

- ทดสอบการเชื่อมต่อกับ DNS Server:
```cmd
server <nameserver>
```

> แทนที่ `<nameserver>` ด้วยชื่อ FQDN ของเครื่องเซิร์ฟเวอร์คุณ เช่น `ns1.example.com`

```cmd
Output:

Default Server: ns1.exmaple.com
Address: 10.11.254.150
```

<Callout type="default">
หากผลลัพธ์ที่ได้คล้ายกับตัวอย่าง แสดงว่าการตั้งค่าสำเร็จ
</Callout>

#### การแก้ไขปัญหา

หากพบปัญหาในการทดสอบ ให้ใช้คำสั่งเหล่านี้:

**ล้างแคช DNS:**
```cmd
ipconfig /flushdns
```

**ขอ IP Address ใหม่:**
```cmd
ipconfig /renew
```

</Steps>

## สรุป

การตั้งค่า Technitium DNS Server ประกอบด้วยขั้นตอนหลัก:

1. **General Settings**: กำหนด DNS Server Domain และเปิดใช้งาน SOA Serial Date Scheme
2. **Forwarders**: เพิ่ม DNS Server ภายนอกสำหรับการค้นหาโดเมนที่ไม่รู้จัก
3. **Zone Management**: สร้าง Forward Zone และ Reverse Zone (ถ้าต้องการ)
4. **Client Configuration**: ตั้งค่าเครื่อง Client ให้ใช้ DNS Server ที่สร้างขึ้น

เมื่อดำเนินการครบทุกขั้นตอนแล้ว คุณจะมี DNS Server ที่พร้อมใช้งานสำหรับเครือข่ายของคุณ