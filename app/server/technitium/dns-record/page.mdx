---
title: DNS Record
---

import { Steps, Callout } from "nextra/components";

# DNS Record

DNS Record คือรายการข้อมูลที่เก็บอยู่ใน DNS Server ซึ่งทำหน้าที่เป็นเหมือน "สมุดโทรศัพท์" ของอินเทอร์เน็ต
ลองนึกภาพว่าเมื่อคุณต้องการโทรหาเพื่อน คุณไม่ได้จำหมายเลขโทรศัพท์ที่ซับซ้อน แต่คุณจำแค่ชื่อของเพื่อนแล้วเปิดสมุดโทรศัพท์หาเบอร์โทรศัพท์ของเพื่อนคนนั้น

ในทำนองเดียวกัน คอมพิวเตอร์ไม่ได้เข้าใจชื่อเว็บไซต์อย่าง `google.com` แต่เข้าใจเพียง IP Address ที่เป็นตัวเลข เช่น `172.217.160.142` ดังนั้นเมื่อคุณพิมพ์ google.com ลงในเว็บบราวเซอร์ DNS Server จะทำหน้าที่ค้นหา DNS Record ที่เกี่ยวข้องเพื่อ "แปล" ชื่อโดเมนนั้นให้เป็น IP Address ที่เครื่องคอมพิวเตอร์เข้าใจและสามารถเชื่อมต่อถึงเซิร์ฟเวอร์ของเว็บไซต์นั้นได้

## DNS Record Type

### A Record (Address Record)

- **หน้าที่:** ใช้ชี้ชื่อโดเมนหรือซับโดเมนไปยัง IPv4 Address (ที่อยู่ IP แบบตัวเลข 4 ชุด เช่น `192.168.0.1`)
- **นิยมใช้สำหรับ:** เว็บไซต์, เซิร์ฟเวอร์ทั่วไป
- **ตัวอย่าง:**
  - **ชื่อ:** `www.ctsurin.local`
  - **ประเภท:** `A`
  - **IPv4:** `10.11.254.15`
  - **ความหมาย:** เมื่อมีคนพิมพ์ `ctsurin.local` เว็บเซิร์ฟเวอร์ที่ IP `10.11.254.15` จะถูกเรียกใช้งาน

### AAAA Record (IPv6 Address Record)

- **หน้าที่:** ใช้ชี้ชื่อโดเมนหรือซับโดเมนไปยัง IPv6 Address (ที่อยู่ IP แบบตัวเลขและตัวอักษรที่ยาวกว่า เช่น `2001:0db8:85a3:0000:0000:8a2e:0370:7334`)
- **นิยมใช้สำหรับ:** เว็บไซต์, เซิร์ฟเวอร์ที่รองรับ IPv6
- **ตัวอย่าง:**
  - **ชื่อ:** `ctsurin.local`
  - **ประเภท:** `AAAA`
  - **IPv6:** `2001:0db8:85a3:0000:0000:8a2e:0370:7334`
  - **ความหมาย:** ใช้งานเหมือน A Record แต่สำหรับ IPv6

### CNAME Record (Canonical Name Record)

- **หน้าที่:** ใช้ชี้ชื่อโดเมนหรือซับโดเมนหนึ่งไปยัง อีกชื่อโดเมนหนึ่ง (เป็นนามแฝง หรือ Alias) แทนที่จะชี้ตรงไปยัง IP Address โดยตรง
- **นิยมใช้สำหรับ:** สร้างซับโดเมนที่ชี้ไปยังโดเมนหลัก, หรือชี้ไปยังบริการภายนอก (เช่น CDN, Cloud Hosting)
- **ตัวอย่าง:**
  - **ชื่อ:** `ctsurin.local`
  - **ประเภท:** `CNAME`
  - **Domain Name:** `www.ctsurin.local`
  - **ความหมาย:** เมื่อมีคนพิมพ์ `ctsurin.local` ระบบจะไปค้นหา IP ของ `www.ctsurin.local` อีกทีหนึ่ง ทำให้ทั้งสองชื่อชี้ไปที่เซิร์ฟเวอร์เดียวกัน

### MX Record (Mail Exchange Record)

- **หน้าที่:** ระบุ **Mail Server** ที่รับผิดชอบในการรับอีเมลสำหรับโดเมนนั้นๆ
- **นิยมใช้สำหรับ:** ระบบอีเมลของโดเมน
- **ตัวอย่าง:**

  <Steps>
  
  #### เพิ่ม A Record ไปยัง Mail server

    - **ชื่อ:** `mx1.ctsurin.local`
    - **ประเภท:** `A`
    - **IPv4:** `10.11.254.20`

  #### เพิ่ม MX Record

    - **ชื่อ:** `ctsurin.local`
    - **ประเภท:** `MX`
    - **Preference (ความสำคัญ):** `10`
    
      > **Tips:** ค่า `Preference` หรือ `Priority` ซึ่งจะเป็นตัวจัดอันดับความสำคัญของ Mail Server ปลายทาง โดยส่วนใหญ่แล้วการตั้งค่า MX จะมีค่ามากกว่า `10` ซึ่งการทำงาน คือ Email จะถูกส่งไปหา Mail Server ที่มี `Priority` ต่ำสุด (มีความสำคัญสูงสุด) หาก Mail Server `Priority` แรกล่ม ก็จะส่งไปยัง Mail Server ที่มี `Priority` สูงกว่า (มีความสำคัญน้อยกว่า)

    - **Exchange:** ชื่อ FQDN ของ Mail Server (เช่น `mx1.ctsurin.local`)

  #### หลักการทำงาน

  เมื่อมีคนส่งอีเมลไปยัง `user@ctsurin.local` ระบบจะส่งอีเมลนั้นไปยัง Mail Server ที่ชื่อ `mx1.ctsurin.local`

  </Steps>

### NS Record (Name Server Record)

- **หน้าที่:** ระบุว่า DNS Server ใด (Name Server) ที่มีอำนาจในการจัดการข้อมูล DNS Record ของโดเมน
- **นิยมใช้สำหรับ:** กำหนด DNS Server หลักสำหรับโดเมน
- **ตัวอย่าง:**
  - **ชื่อ:** `@`
  - **ประเภท:** `NS`
  - **Name Server:** `ns1.ctsurin.local`
  - **ความหมาย:** บอกให้โลกอินเทอร์เน็ตรู้ว่า หากต้องการสอบถามข้อมูล DNS ของ `ctsurin.local` ให้ไปถามที่ `ns1.ctsurin.local`

  > **Tips:** ควรเพิ่ม `A Record` หรือ `AAAA Record` ไปยัง Name server ด้วย

### TXT Record (Text Record)

- **หน้าที่:** ใช้เก็บ ข้อความใดๆ ที่เกี่ยวข้องกับโดเมน ไม่ได้มีวัตถุประสงค์ในการชี้ไปยังบริการโดยตรง แต่มักใช้สำหรับการยืนยันความเป็นเจ้าของโดเมน, การตั้งค่าความปลอดภัยอีเมล (เช่น SPF, DKIM, DMARC)
- **นิยมใช้สำหรับ:** การยืนยันโดเมน, มาตรการความปลอดภัยอีเมล
- **ตัวอย่าง (SPF Record):**
  - **ชื่อ:** `ctsurin.local`
  - **ประเภท:** `TXT`
  - **ค่า (Value):** `"v=spf1 include:_spf.google.com ~all"`
  - **ความหมาย:** บอกว่าอีเมลจาก `ctsurin.local` ที่ส่งจาก Google Mail Server (และเซิร์ฟเวอร์อื่นที่ระบุ) เท่านั้นที่เป็นอีเมลที่ถูกต้อง ป้องกันการปลอมแปลงอีเมล

### PTR Record (Pointer Record)

- **หน้าที่:** ใช้สำหรับการทำ **Reverse DNS Lookup** คือการแปลง IP Address กลับไปเป็นชื่อโดเมน (ตรงข้ามกับ A/AAAA Record)
- **นิยมใช้สำหรับ:** การตรวจสอบความถูกต้องของเซิร์ฟเวอร์ (เช่น Mail Server), การบันทึก Log, การแก้ไขปัญหาเครือข่าย
- **ตัวอย่าง:**
  - **Name:** `10`
  - **ประเภท:** `PTR` (จะถูกตั้งค่าใน Reverse Zone เช่น `254.11.10.in-addr.arpa`)
  - **Domain Name:** `ns1.ctsurin.local`
  - **ความหมาย:** เมื่อมีการตรวจสอบ IP `10.11.254.10` จะถูกระบุว่าเป็น `ns1.ctsurin.local`

## ตัวอย่างการเพิ่ม A Record สำหรับ Web server

<Steps>

### เข้าสู่หน้าเว็บจัดการ Technitium DNS

```url copy
http://<ip_address>:5380
```

### เลือก Forward Zone

- ไปที่เมนู **Zones** \> คลิกที่ **ctsurin.local** (ชื่อของ Forward Zone)

![technitium-record-1](/server/technitium/technitium-record-1.png)

- คลิกปุ่ม **Add Record**
  - **Name:** ระบุชื่อที่ต้องการ
  - **Type:** เลือกประเภทของ Record
  - **IPv4 Address:** ระบุไอพีแอดเดรสที่ต้องการ

  ![technitium-record-2](/server/technitium/technitium-record-2.png)

- คลิกปุ่ม **Save**

</Steps>

## ทดสอบ

<Steps>

### สร้างเครื่องเซิร์ฟเวอร์สำหรับให้บริการ Web server

สร้างเครื่องเซิร์ฟเวอร์สำหรับให้บริการ Web server และกำหนด IP Address เป็นค่าเดียวกันกับ A Record เช่น `10.11.254.15`

### ติดตั้ง Nginx

```bash
sudo apt install -y nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

### ทดลองให้ Client เข้าเว็บไซต์

หลังจากเตรียมเครื่อง Web server เรียบร้อยแล้ว ให้ Client ทดลองเข้าเว็บไซต์ `www.ctsurin.local`

```
http://www.ctsurin.local
```

### ผลลัพธ์ที่ควรได้

![technitium-record-3](/server/technitium/technitium-record-3.png)

</Steps>

