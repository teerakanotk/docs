import { Callout } from 'nextra/components'

# ขั้นตอนการตั้งค่า Technitium DNS สำหรับ DNS Server Mode

### เข้าสู่หน้าเว็บจัดการ Technitium DNS

เปิดเว็บบราวเซอร์แล้วพิมพ์ URL ต่อไปนี้

```
http://<ip_address>:5380
```

### ตั้งค่าทั่วไป (General Settings)

- ไปที่เมนู `Settings` > `General`

  - **แก้ไข DNS Server Domain:** ระบุชื่อโดเมนหลักของ DNS Server (FQDN) เช่น `ns1.ctsurin.local`

![technitium-dns-1](/assets/technitium/technitium-dns-1.png)

- **ตั้งค่า Zone Defaults:** เลื่อนลงมาที่หัวข้อ `Zone Defaults`

  - **ติ๊กเครื่องหมาย ☑️ ที่ช่อง `Use SOA Serial Date Scheme`** เพื่อให้ Technitium จัดการ Serial Number ของ SOA Record โดยใช้รูปแบบวันที่ ซึ่งช่วยในการจัดการ Zone Files ได้ง่ายขึ้น และลดข้อผิดพลาด

![technitium-dns-2](/assets/technitium/technitium-dns-2.png)

- เมื่อตั้งค่าเสร็จแล้ว **เลื่อนลงมาที่ล่างสุด** แล้วคลิกปุ่ม `Save Settings`

### ตั้งค่าหน้าเว็บ (Web Service Settings)

การตั้งค่าในส่วนนี้จะช่วยเพิ่มความปลอดภัยให้กับการเข้าถึงหน้าเว็บจัดการผ่าน HTTPS

- ไปที่เมนู `Settings` \> `Web Service`

  - **เปิดใช้งาน HTTPS และการ Redirect:**

    - ติ๊กเครื่องหมาย ☑️ ที่ช่อง `Enable HTTPS`\*\*

    - ติ๊กเครื่องหมาย ☑️ ที่ช่อง `Enable HTTP to HTTPS Redirection`

    - ติ๊กเครื่องหมาย ☑️ ที่ช่อง `Use A Self Signed TLS Certificate When TLS Certificate File Path is Unspecified`

![technitium-dns-3](/assets/technitium/technitium-dns-3.png)

- เมื่อตั้งค่าเสร็จแล้ว **เลื่อนลงมาที่ล่างสุด** แล้วคลิกปุ่ม `Save Settings`

### ตั้งค่า Forwarders

Forwarders จะช่วยให้ DNS Server ของคุณสามารถสอบถามชื่อโดเมนที่ไม่รู้จักจาก DNS Server ภายนอกได้

- ไปที่เมนู `Settings` > `Proxy & Forwarders`

![technitium-dns-4](/assets/technitium/technitium-dns-4.png)

- **ในหัวข้อ `Forwarders`:**
  - เพิ่ม IP Address ของ DNS Server ภายนอกที่ต้องการ เช่น
    - `1.1.1.1` (Cloudflare Public DNS)
    - `1.0.0.1` (Cloudflare Public DNS)

![technitium-dns-5](/assets/technitium/technitium-dns-5.png)

- เมื่อตั้งค่าเสร็จแล้ว **เลื่อนลงมาที่ล่างสุด** แล้วคลิกปุ่ม **`Save Settings`** เพื่อบันทึกการเปลี่ยนแปลง

### ตั้งค่า Zone

![technitium-dns-6](/assets/technitium/technitium-dns-6.png)

#### Forward Zone

Forward Zone ใช้ในการจับคู่ชื่อโดเมนกับ IP Address (เช่น `www.example.com` ไปยัง 192.168.1.10)

- ไปที่เมนู `Zones`

- คลิกปุ่ม `Add Zone`

  - **Zone:** กรอกชื่อโดเมนที่คุณต้องการสร้าง เช่น `example.local`

  - **Type:** เลือก `Primary Zone`

  - **Zone Serial:** ติ๊กเครื่องหมาย ☑️ ที่ช่อง

- คลิกปุ่ม `Add`

![technitium-dns-7](/assets/technitium/technitium-dns-7.png)

#### Reverse Zone

Reverse Zone ใช้สำหรับการค้นหาชื่อโดเมนจาก IP Address (Reverse DNS Lookup หรือ PTR Record) (เช่น 192.168.1.10 ไปยัง server1.yourdomain.local)

- คลิกปุ่ม `Add Zone` อีกครั้ง

  - **Zone:** กรอก **Octet ของ IP Address ของเครือข่ายของคุณในรูปแบบย้อนกลับ**

  - **Type:** เลือก **`Primary Zone`**

  - **Zone Serial:** **ติ๊กเครื่องหมาย ☑️ ที่ช่อง**

- คลิกปุ่ม `Add`

<Callout type='info'>
สำหรับ Reverse Zone ใช้เพียง Octet ของ IP Address ที่เป็นส่วนของ Network ID เท่านั้น
</Callout>

![technitium-dns-9](/assets/technitium/technitium-dns-9.png)
